// Complete translations for Cost Control page
const translations = {
  en: {
    // Navigation
    nav_home: 'Home',
    nav_safety: 'Safety Supervision',
    nav_matching: 'Vehicle-Cargo Matching',
    nav_transaction: 'Online Transaction',
    nav_Cost_control: 'Cost Control',
    nav_HRmanagement: 'HR Management',
    nav_app_system: 'Application System',
    nav_about: 'About Us',
    
    // Hero Section
    hero_title: "Optimize <span class='text-primary'>Dangerous Goods</span> Transportation Costs",
    "text-primary": "Dangerous Goods",
    hero_subtitle: "Our Intelligent Logistics Platform leverages cutting-edge technology to reduce expenses by 25% while maintaining safety and regulatory compliance for hazardous materials transport.",
    stat_cost: "Cost Reduction",
    stat_efficiency: "Efficiency Gain",
    stat_compliance: "Compliance",
    
    // Feature Cards
    feature_route: "AI Route Optimization",
    feature_route_desc: "Smart routing reduces fuel costs by 15%",
    feature_safety: "Safety Monitoring",
    feature_safety_desc: "Real-time risk assessment",
    feature_analytics: "Cost Analytics",
    feature_analytics_desc: "Detailed expense tracking",
    feature_tracking: "Real-time Tracking",
    feature_tracking_desc: "Live fleet monitoring",
    
    // Solutions Section
    solutions_title: "Key Cost Control Strategies",
    solutions_subtitle: "Our comprehensive platform addresses every aspect of dangerous goods transportation to maximize efficiency and minimize costs.",
    
    solution_route: "AI-Powered Route Optimization",
    solution_route_desc: "Dynamically calculates the most efficient routes, avoiding high-risk zones and traffic congestion.",
    solution_ai_route_feature1: "12-15% fuel consumption reduction",
    solution_ai_route_feature2: "Backhaul cargo matching",
    solution_ai_route_feature3: "Real-time traffic avoidance",
    
    solution_monitoring: "Real-Time Fleet Monitoring",
    solution_monitoring_desc: "IoT sensors track vehicle performance, driver behavior, and cargo conditions to prevent costly accidents.",
    solution_fleet_monitoring_feature1: "Predictive maintenance alerts",
    solution_fleet_monitoring_feature2: "Driver behavior monitoring",
    solution_fleet_monitoring_feature3: "Cargo condition tracking",
    
    solution_billing: "Automated Billing & Pricing",
    solution_billing_desc: "Rule-based freight calculations ensure transparent pricing based on distance, cargo type, and market demand.",
    solution_automated_billing_feature1: "Dynamic pricing models",
    solution_automated_billing_feature2: "Reduced billing errors",
    solution_automated_billing_feature3: "Improved cash flow",
    
    solution_sharing: "Resource Sharing & Pooling",
    solution_sharing_desc: "Virtual enterprise models enable collaboration among logistics providers, optimizing vehicle utilization.",
    solution_resource_sharing_feature1: "20-30% fixed cost reduction",
    solution_resource_sharing_feature2: "Shared infrastructure",
    solution_resource_sharing_feature3: "Capacity optimization",
    
    solution_compliance: "Regulatory Compliance",
    solution_compliance_desc: "Digital documentation cuts administrative overhead and avoids costly fines through automated compliance.",
    solution_regulatory_compliance_feature1: "Digital e-waybills",
    solution_regulatory_compliance_feature2: "Automated safety reports",
    solution_regulatory_compliance_feature3: "Compliance monitoring",
    
    solution_analytics: "Financial Analytics",
    solution_analytics_desc: "Comprehensive dashboards break down costs for fuel, labor, and maintenance with actionable insights.",
    solution_financial_analytics_feature1: "Real-time cost tracking",
    solution_financial_analytics_feature2: "Predictive analytics",
    solution_financial_analytics_feature3: "Performance insights",
    
    // Features Section
    features_title: "Supporting Features",
    features_subtitle: "Our Freight Management System (FMS) provides comprehensive tools for modern logistics operations.",
    feature_fms: "Freight Management System (FMS)",
    feature_fms_desc: "Real-time tracking, automated dispatching, and data-driven decision-making for complete operational control.",
    feature_load: "Smart Load Planning",
    feature_load_desc: "AI maximizes cargo space utilization, reducing the number of trips and fuel usage while maintaining safety standards.",
    feature_cloud: "Cloud-Based Infrastructure",
    feature_cloud_desc: "Scalable technology that adapts to growing business needs with enterprise-grade security and reliability.",
    
    // Metrics
    metric_fuel: "Fuel Savings",
    metric_time: "Time Reduction",
    metric_safety: "Safety Compliance",
    metric_cost: "Cost Reduction",
    
    // Footer
    footer_tagline: "Connecting Global Logistics",
    footer_quick_links: "Quick Links",
    footer_resources: "Resources",
    footer_blog: "Blog",
    footer_help: "Help Center",
    footer_faq: "FAQs",
    footer_contact: "Contact Us",
    footer_phone: "Phone: +86 13371501878",
    footer_address: "Address: M0032, Student Entrepreneurship Center, Shandong Technology and Business University, No. 191 Binhai Middle Road, Huanghai Road Street, Laishan District, Yantai City, Shandong Province",
    footer_copyright: "© 2025 Qingtu Technology. All Rights Reserved"
  },
  zh: {
    // Navigation
    nav_home: "首页",
    nav_safety: "安全风控体系",
    nav_matching: "智能物流运营",
    nav_transaction: "线上交易体系",
    nav_Cost_control: "成本管控中心",
    nav_HRmanagement: "人力资源管理",
    nav_app_system: "应用系统",
    nav_about: "关于我们",
    
    // Hero Section
    hero_title: "优化<span class='text-primary'>危险品</span>运输成本",
    "text-primary": "危险品",
    hero_subtitle: "我们的智能物流平台利用尖端技术，在保持危险品运输安全和合规的同时，将费用降低25%。",
    stat_cost: "成本降低",
    stat_efficiency: "效率提升",
    stat_compliance: "合规率",
    
    // Feature Cards
    feature_route: "AI路线优化",
    feature_route_desc: "智能路线规划减少15%燃油成本",
    feature_safety: "安全监控",
    feature_safety_desc: "实时风险评估",
    feature_analytics: "成本分析",
    feature_analytics_desc: "详细的费用追踪",
    feature_tracking: "实时追踪",
    feature_tracking_desc: "车队实时监控",
    
    // Solutions Section
    solutions_title: "关键成本控制策略",
    solutions_subtitle: "我们的综合平台涵盖危险品运输的各个方面，以最大限度地提高效率并降低成本。",
    
    solution_route: "AI驱动的路线优化",
    solution_route_desc: "动态计算最有效路线，避开高风险区域和交通拥堵。",
    solution_ai_route_feature1: "12-15%燃料消耗减少",
    solution_ai_route_feature2: "回程货物匹配",
    solution_ai_route_feature3: "实时交通规避",
    
    solution_monitoring: "实时车队监控",
    solution_monitoring_desc: "物联网传感器跟踪车辆性能、驾驶员行为和货物状况，防止代价高昂的事故。",
    solution_fleet_monitoring_feature1: "预测性维护警报",
    solution_fleet_monitoring_feature2: "驾驶员行为监控",
    solution_fleet_monitoring_feature3: "货物状况追踪",
    
    solution_billing: "自动化计费与定价",
    solution_billing_desc: "基于规则的运费计算，根据距离、货物类型和市场需求确保透明定价。",
    solution_automated_billing_feature1: "动态定价模型",
    solution_automated_billing_feature2: "减少计费错误",
    solution_automated_billing_feature3: "改善现金流",
    
    solution_sharing: "资源共享与整合",
    solution_sharing_desc: "虚拟企业模式促进物流提供商之间的协作，优化车辆利用率。",
    solution_resource_sharing_feature1: "20-30%固定成本降低",
    solution_resource_sharing_feature2: "共享基础设施",
    solution_resource_sharing_feature3: "容量优化",
    
    solution_compliance: "法规合规",
    solution_compliance_desc: "数字化文档减少管理开销，并通过自动化合规避免高额罚款。",
    solution_regulatory_compliance_feature1: "数字化电子运单",
    solution_regulatory_compliance_feature2: "自动化安全报告",
    solution_regulatory_compliance_feature3: "合规性监控",
    
    solution_analytics: "财务分析",
    solution_analytics_desc: "全面的仪表板分解燃料、劳动力和维护成本，并提供可操作的见解。",
    solution_financial_analytics_feature1: "实时成本追踪",
    solution_financial_analytics_feature2: "预测分析",
    solution_financial_analytics_feature3: "性能洞察",
    
    // Features Section
    features_title: "支持功能",
    features_subtitle: "我们的货运管理系统(FMS)为现代物流运营提供全面的工具。",
    feature_fms: "货运管理系统(FMS)",
    feature_fms_desc: "实时跟踪、自动调度和数据驱动的决策，实现全面的运营控制。",
    feature_load: "智能装载计划",
    feature_load_desc: "AI最大化货物空间利用率，减少运输次数和燃料使用，同时保持安全标准。",
    feature_cloud: "基于云的基础设施",
    feature_cloud_desc: "可扩展的技术，适应不断增长的商业需求，具有企业级的安全性和可靠性。",
    
    // Metrics
    metric_fuel: "燃油节省",
    metric_time: "时间减少",
    metric_safety: "安全合规",
    metric_cost: "成本降低",
    
    // Footer
    footer_tagline: "连接全球物流",
    footer_quick_links: "快速链接",
    footer_resources: "资源中心",
    footer_blog: "博客",
    footer_help: "帮助中心",
    footer_faq: "常见问题",
    footer_contact: "联系我们",
    footer_phone: "电话: +86 13371501878",
    footer_address: "地址: 山东省烟台市莱山区黄海路街道滨海中路191号山东工商学院大学生创业中心M0032",
    footer_copyright: "© 2025 晴途科技 版权所有"
  }
};

function toggleLanguage() {
  const langToggle = document.getElementById('langToggle');
  const currentLang = langToggle.getAttribute('data-current-lang');
  const newLang = currentLang === 'en' ? 'zh' : 'en';
  
  // Update button text and HTML lang attribute
  langToggle.textContent = currentLang === 'en' ? 'EN | 中文' : 'EN | Chinese';
  langToggle.setAttribute('data-current-lang', newLang);
  document.documentElement.lang = newLang;
  
  // Save preference to localStorage
  localStorage.setItem('preferredLanguage', newLang);
  
  // Translate all elements
  translatePage(newLang);
}

function translatePage(lang) {
  const translatableElements = document.querySelectorAll('[data-translate]');
  
  translatableElements.forEach(element => {
    const key = element.getAttribute('data-translate');
    if (translations[lang] && translations[lang][key]) {
      if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
        element.placeholder = translations[lang][key];
      } else {
        // Handle HTML content for elements that need it
        if (key === 'hero_title' || key === 'text-primary') {
          element.innerHTML = translations[lang][key];
        } else {
          element.textContent = translations[lang][key];
        }
      }
    }
  });
}

// Initialize page language
document.addEventListener('DOMContentLoaded', () => {
  const savedLang = localStorage.getItem('preferredLanguage') || 'zh';
  const langToggle = document.getElementById('langToggle');
  
  // Set initial language
  langToggle.setAttribute('data-current-lang', savedLang);
  document.documentElement.lang = savedLang;
  translatePage(savedLang);
  
  // Set button text based on initial language
  langToggle.textContent = savedLang === 'en' ? '中文 | EN' : 'EN | 中文';
  
  // Add click event listener
  langToggle.addEventListener('click', toggleLanguage);
});